(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},69:function(e,n,t){},79:function(e,n,t){},80:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){},87:function(e,n,t){},88:function(e,n,t){},90:function(e,n,t){},91:function(e,n,t){},92:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var s=t(52),a=t.n(s),c=(t(68),t(60)),i=t(106),r=t(107),o=t(104),l=t(59),d=t(19),j=t(9),u=(t(69),t(5)),m=t(53),b=t(2),p=t(4),O=t(54),f=t(0),h={data:null},g=localStorage.getItem("jwtToken");g&&(1e3*Object(O.a)(g).exp<Date.now()?(localStorage.removeItem("jwtToken"),localStorage.removeItem("userData")):h.data=JSON.parse(localStorage.getItem("userData")));var x=Object(b.createContext)({data:null,login:function(){},logout:function(){}});function v(e,n){switch(n.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{data:n.data});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});default:return e}}function N(e){var n=e.children,t=Object(b.useReducer)(v,h),s=Object(p.a)(t,2),a=s[0],c=s[1];return Object(f.jsx)(x.Provider,{value:{user:a.user,data:a.data,loginOrRegister:function(e){e.token&&localStorage.setItem("jwtToken",e.token),localStorage.setItem("userData",JSON.stringify(e)),c({type:"LOGIN",data:e})},logout:function(){localStorage.removeItem("jwtToken"),localStorage.removeItem("userData"),c({type:"LOGOUT"})}},children:n})}var I,k,w,C,y,L,U,R,H,S,P,$,F,D,A,V,E,T,B,M,Y=function(e){var n=e.component,t=Object(m.a)(e,["component"]),s=Object(b.useContext)(x).data;return Object(f.jsx)(j.b,Object(u.a)(Object(u.a)({},t),{},{render:function(e){return s?Object(f.jsx)(j.a,{to:"/"}):Object(f.jsx)(n,Object(u.a)({},e))}}))},Q=t(108),_=(t(79),t(80),t(46),{CasterlyRock:t.p+"static/media/casterly_rock.6b6d5113.jpg",EastWatch:t.p+"static/media/eastwatch.f4dc6960.jpeg",HighGarden:t.p+"static/media/highgarden.bd964fa4.jpg",IronIslands:t.p+"static/media/iron_islands.bcbca871.jpg",IronThrone:t.p+"static/media/iron_throne.f1695aac.jpg",KingsLanding:t.p+"static/media/kings_landing.c8f50ccf.jpg",NightsWatch:t.p+"static/media/nights_watch.9badccf6.jpg",OldTown:t.p+"static/media/oldtown.24034804.jpg",RiverRun:t.p+"static/media/riverrun.7814c49e.jpg",WinterFell:t.p+"static/media/winterfell.227f94c5.jpg"}),W=function(e){var n=e.type;return Object(f.jsx)("div",{className:"app-details ".concat(n),children:"This is a twitter-esque, GOT-inspired social media app made and designed just for fun by Kyle Arcilla. Made using ReactJS, HTML, CSS, Express, Node, MongoDB, GQL, and Cloudinary."})},G=function(e){var n=e.type,t=e.errors,s=void 0===t?{}:t;return Object(f.jsx)("div",{className:"error-details ".concat(n),children:Object(f.jsx)("ul",{children:Object.values(s).map((function(e){return Object(f.jsxs)("li",{className:"list-error-item ".concat(n),children:[" ",e," "]},e)}))})})},q=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"sign-in-up-img-container",children:Object(f.jsx)("img",{src:function(){var e=Math.floor(10*Math.random());return Object.values(_)[e]}(),alt:"sign-in-up-img-container"})})})},J=function(e){var n=e.buttonHandler,t=e.text,s=e.type,a=void 0===s?"":s,c=a.includes("loading");return Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:n,disabled:c,className:"button ".concat(a," ").concat(c?"loading":""),children:t})})},K=(t(47),function(e){var n=e.user,t=e.post,s=e.isCommented,a=Object(j.g)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{onClick:function(){n?a.push("/posts/".concat(t.id)):a.push("/login")},className:"fas fa-scroll metric-icon ".concat(s)}),Object(f.jsxs)("span",{className:"post-metric-text comment",children:[" ",t.commentCount," "]})]})}),z=t(110),X=t(10),Z=t(105),ee=Object(Z.a)(I||(I=Object(X.a)(["\n  query getUsers {\n        getUsers {\n        id\n        name\n        username\n        houseName\n        profileImageURL\n        bio\n        followers {\n           username\n        }\n        following {\n           username\n        }\n    }\n}\n"]))),ne=Object(Z.a)(k||(k=Object(X.a)(["\n   mutation likePost ($postId: ID!) {\n     likePost (postId: $postId) {\n        id\n        likes {\n           username\n        }\n        dislikes {\n           username\n        }\n        likeCount\n        dislikeCount\n     }\n   }\n"]))),te=Object(Z.a)(w||(w=Object(X.a)(["\n   mutation dislikePost ($postId: ID!) {\n     dislikePost (postId: $postId) {\n        id\n        likes {\n           username\n        }\n        dislikes {\n           username\n        }\n        likeCount\n        dislikeCount\n       }\n   }\n"]))),se=Object(Z.a)(C||(C=Object(X.a)(["\n   mutation followClicked ($userId: ID!) {\n      followClicked (userId: $userId) {\n         profileImageURL\n         following {\n            id\n            profileImageURL\n            name\n            username\n            houseName\n         }\n         followers  {\n            id\n            profileImageURL\n            name\n            username\n            houseName\n         }\n         followerCount\n         followingCount\n       }\n   }\n"]))),ae=Object(Z.a)(y||(y=Object(X.a)(["\n    mutation login ($username: String! $password: String!) {\n      login (username: $username password: $password) {\n         id\n         profileImageURL\n         email\n         token\n         name\n         username\n         createdAt\n         houseName\n         location\n         bio\n         bannerURL\n         following {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n         }\n         followers {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n         }\n         followerCount\n         followingCount\n      }\n    }\n"]))),ce=Object(Z.a)(L||(L=Object(X.a)(["\n   query getPosts {\n     getPosts {\n      id\n      userInfo {\n        userId\n        name\n        username\n        houseName\n        profileImageURL\n      }\n      body\n      imageURL\n      createdAt\n      likes {\n          username\n      }\n      dislikes {\n         username\n      }\n      comments {\n         userInfo {\n            username\n         }\n      }\n      likeCount\n      dislikeCount\n      commentCount\n   }\n}\n"]))),ie=Object(Z.a)(U||(U=Object(X.a)(["\nquery getPost($postId: ID!) {\n  getPost(postId: $postId) {\n    id\n    userInfo {\n      userId\n      name\n      username\n      houseName\n      profileImageURL\n    }\n    body\n    imageURL\n    createdAt\n    likes {\n      username\n    }\n    dislikes {\n      username\n    }\n    comments {\n      id\n      userInfo {\n        userId\n        name\n        username\n        profileImageURL\n        houseName\n      }\n      createdAt\n      body\n      likes {\n        username\n      }\n      dislikes {\n        username\n      }\n      likeCount\n      dislikeCount\n    }\n    likeCount\n    dislikeCount\n    commentCount\n  }\n}\n"]))),re=Object(Z.a)(R||(R=Object(X.a)(["\nmutation register (\n    $name: String!\n    $username: String!\n    $email: String!\n    $password: String!\n    $confirmPassword: String!\n) {\n  register (\n      registerInput: {\n         name: $name\n         username: $username\n         email: $email\n         password: $password\n         confirmPassword: $confirmPassword\n      }\n   ) {\n     id\n     profileImageURL\n     email\n     token\n     name\n     username\n     location\n     createdAt\n     bio\n     bannerURL\n     following {\n       id\n       name\n       username\n       houseName\n       profileImageURL\n     }\n     followers {\n      id\n      name\n      username\n      houseName\n      profileImageURL\n     }\n     followerCount\n     followingCount\n  }\n}\n"]))),oe=Object(Z.a)(H||(H=Object(X.a)(["\nmutation createPost ( $body: String! $imageURL: String) {\n  createPost (body: $body imageURL: $imageURL ) {\n   id\n    userInfo {\n      userId\n      name\n      username\n      houseName\n      profileImageURL\n    }\n    body\n    imageURL\n    createdAt\n    likes {\n      username\n    }\n    dislikes {\n      username\n    }\n    comments {\n      id\n      userInfo {\n        userId\n        name\n        username\n        profileImageURL\n        houseName\n      }\n      createdAt\n      body\n      likes {\n        username\n      }\n      dislikes {\n        username\n      }\n      likeCount\n      dislikeCount\n    }\n    likeCount\n    dislikeCount\n    commentCount\n  }\n}\n"]))),le=Object(Z.a)(S||(S=Object(X.a)(["\n    mutation deletePost ($postId: ID!) {\n       deletePost (postId: $postId) \n    }\n"]))),de=Object(Z.a)(P||(P=Object(X.a)(["\n   mutation getUser($userId: ID!) {\n      getUser(userId: $userId) {\n         id\n         profileImageURL\n         email\n         name\n         houseName\n         location\n         username\n         createdAt\n         bio\n         bannerURL\n         following {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n            bio\n         }\n         followers {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n            bio\n         }\n         followerCount\n         followingCount\n     }\n}\n"]))),je=Object(Z.a)($||($=Object(X.a)(["\n    query getUserPosts ($userId: ID!) {\n      getUserPosts (userId: $userId) {\n         id\n         userInfo {\n         userId\n         name\n         username\n         houseName\n         profileImageURL\n         }\n         body\n         imageURL\n         createdAt\n         likes {\n            username\n         }\n         dislikes {\n            username\n         }\n         comments {\n            userInfo {\n               username\n            }\n         }\n         likeCount\n         dislikeCount\n         commentCount\n         }\n    }\n"]))),ue=Object(Z.a)(F||(F=Object(X.a)(["\n    query getUserLikedPosts ($userId: ID!) {\n      getUserLikedPosts (userId: $userId) {\n         id\n         userInfo {\n         userId\n         name\n         username\n         houseName\n         profileImageURL\n         }\n         body\n         imageURL\n         createdAt\n         likes {\n            username\n         }\n         dislikes {\n            username\n         }\n         comments {\n            userInfo {\n               username\n            }\n         }\n         likeCount\n         dislikeCount\n         commentCount\n         }\n    }\n"]))),me=Object(Z.a)(D||(D=Object(X.a)(["\n    mutation updateProfileDetails (\n      $houseName: String\n      $location: String\n      $bio: String\n      $profileImageURL: String\n      $bannerURL: String\n    ) {\n      updateProfileDetails (\n         editProfileInput: {\n            houseName: $houseName\n            location: $location\n            bio: $bio\n            profileImageURL: $profileImageURL\n            bannerURL: $bannerURL\n         }\n      ) {\n         id\n         profileImageURL\n         email\n         name\n         houseName\n         location\n         username\n         createdAt\n         bio\n         bannerURL\n         following {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n            bio\n         }\n         followers {\n            id\n            name\n            username\n            houseName\n            profileImageURL\n            bio\n         }\n         followerCount\n         followingCount\n      }\n    }\n"]))),be=Object(Z.a)(A||(A=Object(X.a)(["\n    mutation createComment($postId: ID!, $body: String!) {\n       createComment(postId: $postId, body: $body) {\n         id\n    comments {\n      id\n      userInfo {\n        userId\n        name\n        username\n        profileImageURL\n      }\n      createdAt\n      body\n      likes {\n        username\n      }\n      dislikes {\n        username\n      }\n      likeCount\n      dislikeCount\n    }\n    commentCount\n       }\n    }\n"]))),pe=Object(Z.a)(V||(V=Object(X.a)(["\n    mutation deleteComment($postId: ID!, $commentId: ID!) {\n       deleteComment(postId: $postId, commentId: $commentId) {\n         id\n         comments {\n         id\n         userInfo {\n            userId\n            name\n            username\n            profileImageURL\n         }\n         createdAt\n         body\n         likes {\n            username\n         }\n         dislikes {\n            username\n         }\n         likeCount\n         dislikeCount\n         }\n         commentCount\n       }\n    }\n"]))),Oe=Object(Z.a)(E||(E=Object(X.a)(["\n    mutation likeComment($postId: ID!, $commentId: ID!) {\n       likeComment(postId: $postId, commentId: $commentId) {\n         id\n         comments {\n         id\n         userInfo {\n            userId\n            name\n            username\n            profileImageURL\n         }\n         createdAt\n         body\n         likes {\n            username\n         }\n         dislikes {\n            username\n         }\n         likeCount\n         dislikeCount\n         }\n         commentCount\n       }\n    }\n"]))),fe=Object(Z.a)(T||(T=Object(X.a)(["\n    mutation dislikeComment($postId: ID!, $commentId: ID!) {\n       dislikeComment(postId: $postId, commentId: $commentId) {\n         id\n         comments {\n         id\n         userInfo {\n            userId\n            name\n            username\n            profileImageURL\n         }\n         createdAt\n         body\n         likes {\n            username\n         }\n         dislikes {\n            username\n         }\n         likeCount\n         dislikeCount\n         }\n         commentCount\n       }\n    }\n"]))),he=Object(Z.a)(B||(B=Object(X.a)(["\n   mutation {\n      deleteUser \n   }\n"]))),ge=Object(Z.a)(M||(M=Object(X.a)(["\n   query getFollowingPosts {\n      getFollowingPosts {\n      id\n      userInfo {\n        userId\n        name\n        username\n        houseName\n        profileImageURL\n      }\n      body\n      imageURL\n      createdAt\n      likes {\n          username\n      }\n      dislikes {\n         username\n      }\n      comments {\n         userInfo {\n            username\n         }\n      }\n      likeCount\n      dislikeCount\n      commentCount\n   }\n}\n"]))),xe=function(e){var n=e.user,t=e.post,s=Object(j.g)(),a=Object(z.a)(le,{update:function(){window.location.reload()}}),c=Object(p.a)(a,1)[0];return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("i",{onClick:function(){n?c({variables:{postId:t.id}}):s.push("/login")},className:"far fa-trash-alt metric-icon"})," "]})},ve=function(e){var n=e.user,t=e.post,s=Object(j.g)(),a=Object(b.useState)(!1),c=Object(p.a)(a,2),i=c[0],r=c[1];Object(b.useEffect)((function(){if(n){var e=t.likes.some((function(e){return e.username===n.username}));r(e)}}),[n,t.likes,t.dislikes]);var o=Object(z.a)(ne),l=Object(p.a)(o,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{onClick:function(){n||s.push("/login"),l({variables:{postId:t.id}}),r((function(e){return!e}))},className:"fas fa-thumbs-up metric-icon ".concat(i?"liked":"")}),Object(f.jsx)("span",{className:"post-metric-text like ".concat(i?"liked":""),children:t.likeCount})]})},Ne=function(e){var n=e.user,t=e.post,s=e.comment,a=Object(j.g)(),c=Object(b.useState)(!1),i=Object(p.a)(c,2),r=i[0],o=i[1];Object(b.useEffect)((function(){if(n){var e=s.likes.some((function(e){return e.username===n.username}));o(e)}}),[n,s.likes]);var l=Object(z.a)(Oe),d=Object(p.a)(l,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{onClick:function(){n||a.push("/login"),d({variables:{postId:t.id,commentId:s.id}}),o((function(e){return!e}))},className:"fas fa-thumbs-up metric-icon ".concat(r?"liked":"")}),Object(f.jsx)("span",{className:"post-metric-text like ".concat(r?"liked":""),children:s.likeCount})]})},Ie=(t(48),function(e){var n=e.iconCurrenlyClicked,t=e.thisIcon,s=e.iconClickHandler,a="home"===t?"fab fa-fort-awesome":"all"===t?"fas fa-globe-europe":"fas fa-users";return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("button",{className:"Header-Tabs ".concat(t,"-tab"),onClick:s,children:[Object(f.jsx)("i",{id:n==="".concat(t)?"".concat(t,"-icon-active"):"".concat(t,"-icon"),className:"".concat(a," Header-icon")}),Object(f.jsx)("div",{className:n==="".concat(t)?"icon-text ".concat(t," active"):"icon-text",children:t})]})})}),ke=function(e){var n=e.tabClicked,t=e.tabHandler,s=e.type;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("button",{className:"profile-tab ".concat(n===s?"active":""," ").concat(s),onClick:t,children:Object(f.jsxs)("div",{className:"profile-tab-contents ".concat(n===s?"active":""," ").concat(s),children:[function(){switch(s){case"posts":return Object(f.jsx)("i",{className:"fas fa-scroll"});case"liked posts":return Object(f.jsx)("i",{className:"fas fa-heart"});case"allegiances":return Object(f.jsx)("i",{className:"fas fa-handshake"});default:return Object(f.jsx)("i",{className:"fas fa-flag"})}}(),Object(f.jsx)("p",{children:s})]})})})},we=function(e){var n=e.user,t=e.post,s=Object(j.g)(),a=Object(b.useState)(!1),c=Object(p.a)(a,2),i=c[0],r=c[1];Object(b.useEffect)((function(){if(n){var e=t.dislikes.some((function(e){return e.username===n.username}));r(e)}}),[n,t.likes,t.dislikes]);var o=Object(z.a)(te),l=Object(p.a)(o,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{onClick:function(){n||s.push("/login"),l({variables:{postId:t.id}}),r((function(e){return!e}))},className:"fas fa-thumbs-down metric-icon ".concat(i?"disliked":"")}),Object(f.jsx)("span",{className:"post-metric-text unlike ".concat(i?"disliked":""),children:t.dislikeCount})]})},Ce=function(e){var n=e.user,t=e.post,s=e.comment,a=Object(j.g)(),c=Object(b.useState)(!1),i=Object(p.a)(c,2),r=i[0],o=i[1];Object(b.useEffect)((function(){if(n){var e=s.dislikes.some((function(e){return e.username===n.username}));o(e)}}),[n,s.likes,s.dislikes]);var l=Object(z.a)(fe),d=Object(p.a)(l,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{onClick:function(){n||a.push("/login"),d({variables:{postId:t.id,commentId:s.id}}),o((function(e){return!e}))},className:"fas fa-thumbs-down metric-icon ".concat(r?"disliked":"")}),Object(f.jsx)("span",{className:"post-metric-text unlike ".concat(r?"disliked":""),children:s.dislikeCount})]})},ye=function(e){var n=e.user,t=e.type,s=Object(b.useContext)(x),a=s.loginOrRegister,c=s.data,i=Object(j.g)(),r=Object(b.useState)(!1),o=Object(p.a)(r,2),l=o[0],d=o[1];Object(b.useEffect)((function(){if(n&&c){var e=c.following.some((function(e){return e.username===n.username}));d(e)}}),[n,c]);var m=Object(z.a)(se,{update:function(e,n){var t=n.data.followClicked,s=Object(u.a)(Object(u.a)({},c),t);a(s)},variables:{userId:n.id}}),O=Object(p.a)(m,1)[0],h=function(){!c&&i.push("/login"),O(),d(!l)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"".concat(t,"-card-btn-container"),children:l?Object(f.jsxs)("button",{onClick:h,className:"user-card-follow-btn not-following ".concat(t),children:[Object(f.jsx)("i",{className:"fas fa-handshake-slash"}),Object(f.jsx)("i",{id:"prof-pg-not-follow",className:"fas fa-handshake"}),Object(f.jsx)("p",{children:"Bent the Knee."})]}):Object(f.jsxs)("button",{onClick:h,className:"user-card-follow-btn following ".concat(t),children:[Object(f.jsx)("i",{className:"far fa-handshake"}),Object(f.jsx)("p",{children:"Bend the Knee."})]})})})},Le=t.p+"static/media/default.8973ad91.jpg",Ue=(t(49),t(50),function(e){var n=e.type,t=e.user,s=!1===e.isCurrentUser&&Object(f.jsx)(ye,{user:t,type:n}),a="user-result"===n&&Object(f.jsx)("span",{className:"".concat(n,"-card-user-bio"),children:t.bio});return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"".concat(n,"-card"),children:[Object(f.jsx)("div",{className:"".concat(n,"-image-container"),children:Object(f.jsx)("img",{className:"".concat(n,"-profile-img"),src:t.profileImageURL||Le,alt:"profile-img"})}),Object(f.jsxs)("div",{className:"".concat(n,"-card-details"),children:[Object(f.jsxs)("div",{className:"".concat(n,"-card-details-top"),children:[Object(f.jsx)("h5",{children:t.name}),Object(f.jsx)("a",{href:"/users/".concat(t.id),className:"".concat(n,"-card-details-top-username"),children:"@".concat(t.username)})]}),Object(f.jsx)("div",{className:"".concat(n,"-card-details-bottom"),children:Object(f.jsx)("a",{href:"/users/".concat(t.id),children:"@".concat(t.username)})}),Object(f.jsxs)("div",{className:"".concat(n,"-card-house-details"),children:[Object(f.jsx)("i",{id:"".concat(n,"-house-icon"),className:"fas fa-bookmark"}),Object(f.jsx)("span",{children:t.houseName?"House ".concat(t.houseName):"No House"})]}),t.bio&&a]}),s]})})}),Re=function(e){var n=e.type,t=e.cards,s=Object(b.useContext)(x).data;return Object(f.jsx)(f.Fragment,{children:t&&t.map((function(e){return Object(f.jsx)(Ue,{type:n,user:e,isCurrentUser:!!s&&e.username===s.username},e.id)}))})},He=t(24),Se=t.n(He),Pe=function(e){var n=e.post,t=e.type,s=void 0===t?"":t,a=Object(b.useContext)(x).data,c=Object(j.g)();return Object(f.jsx)("div",{className:"Post-Card ".concat(s),children:Object(f.jsxs)("div",{className:"post-card-container",onClick:function(e){["post-card-container","post-card-text","time","profile-header-bottom-details"].includes(e.target.classList[0])&&"post-page-card"!==s&&c.push("/posts/".concat(n.id))},children:[Object(f.jsxs)("div",{className:"post-card-header",children:[Object(f.jsx)("div",{className:"profile-img-container",children:Object(f.jsx)("img",{className:"profile-img",src:n.userInfo.profileImageURL||Le,alt:"profile-img"})}),Object(f.jsxs)("div",{className:"profile-header-container",children:[Object(f.jsxs)("div",{className:"profile-header-top-details",children:[Object(f.jsx)("span",{className:"name",children:n.userInfo.name}),Object(f.jsx)("a",{href:"/users/".concat(n.userInfo.userId),className:"username",children:"@"+n.userInfo.username}),Object(f.jsx)("span",{className:"dot",children:"\u2022"}),Object(f.jsx)("span",{className:"time",children:Se()(n.createdAt).fromNow(!0)})]}),Object(f.jsxs)("div",{className:"profile-header-bottom-details",children:[Object(f.jsx)("i",{id:"house-icon",className:"fas fa-bookmark"}),Object(f.jsx)("span",{className:"house-name",children:n.userInfo.houseName?"House "+n.userInfo.houseName:"No House"})]})]})]}),Object(f.jsxs)("div",{className:"post-card-details",children:[Object(f.jsxs)("div",{className:"post-card-text",children:[" ",n.body," "]}),n.imageURL&&Object(f.jsx)("img",{className:"post-img",src:n.imageURL,alt:"post-img"}),Object(f.jsxs)("div",{className:"post-card-metrics",children:[Object(f.jsxs)("div",{className:"metrics-left",children:[Object(f.jsx)(ve,{user:a,post:n}),Object(f.jsx)(we,{user:a,post:n})]}),Object(f.jsxs)("div",{className:"metrics-right",children:["post-page-card"!==s&&Object(f.jsx)(K,{user:a,post:n,isCommented:!!a&&n.comments.some((function(e){return e.userInfo.username===a.username}))}),a&&n.userInfo.username===a.username&&Object(f.jsx)(xe,{user:a,post:n})]})]})]})]})})},$e=function(e){var n=e.post,t=e.comment,s=e.commentClicked,a=e.optionsClickedHandler,c=e.deleteClicked,i=Object(b.useContext)(x).data;return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"Post-Card comment-card",children:Object(f.jsxs)("div",{className:"post-card-container",children:[Object(f.jsxs)("div",{className:"post-card-header",children:[Object(f.jsx)("div",{className:"profile-img-container",children:Object(f.jsx)("img",{className:"profile-img post-page",alt:"profile-img",src:t.userInfo.profileImageURL||Le})}),Object(f.jsxs)("div",{className:"profile-header-container",children:[Object(f.jsxs)("div",{className:"profile-header-top-details",children:[Object(f.jsx)("span",{className:"name",children:t.userInfo.name}),Object(f.jsx)("a",{href:"/users/".concat(t.userInfo.userId),className:"username",children:"@".concat(t.userInfo.username)}),Object(f.jsx)("span",{className:"dot",children:"\u2022"}),Object(f.jsx)("span",{className:"time",children:Se()(t.createdAt).fromNow(!0)}),i&&[t.userInfo.username,n.userInfo.username].includes(i.username)&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{onClick:function(){return a(t.id)},className:"dots-menu",children:"..."}),s===t.id&&Object(f.jsx)("div",{className:"modal options-box",children:Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:c,children:t.userInfo.username===i.username?"Delete your comment":"Delete this user's comment"})})})]})]}),Object(f.jsxs)("div",{className:"profile-header-bottom-details",children:[Object(f.jsx)("i",{id:"house-icon",className:"fas fa-bookmark"}),Object(f.jsx)("span",{className:"house-name",children:t.userInfo.houseName?"House ".concat(t.userInfo.houseName):"No House"})]})]})]}),Object(f.jsxs)("div",{className:"post-card-details post-page",children:[Object(f.jsxs)("div",{className:"post-card-text post-page",children:[" ",t.body," "]}),Object(f.jsx)("div",{className:"post-card-metrics",children:Object(f.jsxs)("div",{className:"metrics-left",children:[Object(f.jsx)(Ne,{user:i,post:n,comment:t}),Object(f.jsx)(Ce,{user:i,post:n,comment:t})]})})]})]})})})},Fe=function(e){var n=e.comments,t=e.post,s=Object(b.useState)(""),a=Object(p.a)(s,2),c=a[0],i=a[1],r=Object(z.a)(pe),o=Object(p.a)(r,1)[0];return Object(f.jsx)(f.Fragment,{children:n&&n.map((function(e){return Object(f.jsx)($e,{post:t,comment:e,commentClicked:c,optionsClickedHandler:function(e){i(e!==c?e:"")},deleteClicked:function(){i(""),o({variables:{postId:t.id,commentId:c}})}},e.id)}))})},De=function(e){var n=e.title,t=e.property,s=e.values,a=e.onChangeHandler;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("label",{htmlFor:"file-upload-".concat(t),className:"file-upload-label edit-profile",children:[Object(f.jsx)("p",{children:"Change ".concat(n)}),Object(f.jsx)("span",{className:"post-card post-metric-text",children:s[t]&&s[t].length>0&&"Replace Image"})]}),Object(f.jsx)("input",{className:"post-card bottom-form ".concat(t," edit-profile"),id:"file-upload-".concat(t),type:"file",onChange:a,accept:"image/*"}),s[t]&&Object(f.jsx)("span",{className:"post-card post-metric-text file-name edit-profile",children:s[t].name})]})},Ae=function(e){var n=e.user,t=e.values,s=e.onSubmitHandler,a=e.onChangeHandler,c=e.resetValues;return Object(f.jsx)("div",{className:"post-card-form",children:Object(f.jsxs)("div",{className:"post-card-form-container",children:[Object(f.jsxs)("div",{className:"post-card-form-top",children:[Object(f.jsx)("div",{className:"post-card-img-container",children:Object(f.jsx)("img",{src:n.profileImageURL||Le,className:"profile-img",alt:"profile-img"})}),Object(f.jsxs)("div",{className:"post-card-details-container",children:[Object(f.jsxs)("div",{className:"post-card-form profile-header-top-details",children:[Object(f.jsx)("span",{className:"name",children:n.name}),Object(f.jsx)("a",{href:"/users/".concat(n.id),className:"username",children:"@"+n.username})]}),Object(f.jsxs)("div",{className:"post-card-details-body",children:[Object(f.jsx)("input",{className:"post-card sign-form-input body",placeholder:"Greetings Westoros!",onChange:a,value:t.body}),Object(f.jsx)("button",{onClick:s,disabled:""===t.body,children:Object(f.jsx)("i",{className:"fas fa-feather-alt metric-icon ".concat(""===t.body?"disabled":"")})})]})]})]}),Object(f.jsxs)("div",{className:"post-card-form-bottom",children:[t.imageURL&&Object(f.jsx)("span",{className:"post-card post-metric-text file-name",children:t.imageURL.name}),Object(f.jsxs)("label",{htmlFor:"file-upload",className:"file-upload-label",children:[Object(f.jsx)("i",{className:"fas fa-image post-card metric-icon"}),Object(f.jsx)("span",{className:"post-card post-metric-text",children:""===t.imageURL?"Add an Image":"Replace Image"})]}),t.imageURL&&Object(f.jsx)("span",{className:"post-card post-metric-text cancel",onClick:c,children:" Remove Image"}),Object(f.jsx)("input",{className:"post-card bottom-form imageURL",id:"file-upload",type:"file",onChange:a,accept:"image/*"})]})]})})},Ve=function(e){var n=e.searchText,t=e.searchInputHandler,s=e.tabType,a="home"===s||"all"===s?"Quest for posts.":"Quest for westerlings.";return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"HomeView-search-button",children:Object(f.jsx)("i",{id:"search-icon",className:"fas fa-search"})}),Object(f.jsx)("input",{className:"search-bar HomeView",onChange:t,value:n,type:"text",placeholder:a,spellCheck:"false"})]})},Ee=function(e){var n=e.textValue,t=e.inputHandler,s=e.title,a=void 0===s?"":s,c=e.type,i=void 0===c?"":c,r=e.errors,o=e.placeholder,l=a.includes("Password");return Object(f.jsxs)("div",{className:"sign-form-container ".concat(i),children:[Object(f.jsx)("h3",{className:"sign-form-title ".concat(i),children:a}),Object(f.jsx)("form",{children:Object(f.jsx)("input",{className:"sign-form-input ".concat(i," ").concat(r?"errors":""),type:l?"password":"text",value:n,onChange:t,placeholder:o,spellCheck:"false"})})]})},Te=function(e){var n=e.user,t=e.values,s=e.onSubmitHandler,a=e.onChangeHandler;return Object(f.jsx)("div",{className:"post-card-form comment-form",children:Object(f.jsx)("div",{className:"post-card-form-container comment-form",children:Object(f.jsxs)("div",{className:"post-card-form-top",children:[Object(f.jsx)("div",{className:"post-card-img-container",children:Object(f.jsx)("img",{src:n.profileImageURL||Le,className:"profile-img",alt:"profile-img"})}),Object(f.jsxs)("div",{className:"post-card-details-container",children:[Object(f.jsxs)("div",{className:"post-card-form profile-header-top-details",children:[Object(f.jsx)("span",{className:"name",children:n.name}),Object(f.jsx)("a",{href:"/users/".concat(n.id),className:"username",children:"@"+n.username})]}),Object(f.jsxs)("div",{className:"post-card-details-body",children:[Object(f.jsx)("input",{className:"post-card sign-form-input body",placeholder:"Aye m'lord! A glorious post!",onChange:a,value:t.body}),Object(f.jsx)("button",{onClick:s,disabled:""===t.body,children:Object(f.jsx)("i",{className:"fas fa-feather-alt metric-icon ".concat(""===t.body?"disabled":"")})})]})]})]})})})},Be=function(e){var n=e.iconClicked,t=e.iconClickHandler,s=e.searchText,a=e.searchInputHandler,c="home"===n?"home":"all"===n?"all":"westerlings";return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsxs)("div",{className:"Header-Left",children:[Object(f.jsx)(Ie,{iconCurrenlyClicked:n,thisIcon:"home",iconClickHandler:t}),Object(f.jsx)(Ie,{iconCurrenlyClicked:n,thisIcon:"all",iconClickHandler:t}),Object(f.jsx)(Ie,{iconCurrenlyClicked:n,thisIcon:"westerlings",iconClickHandler:t}),Object(f.jsx)("div",{className:"tab-higlighter ".concat(c)})]}),Object(f.jsx)("div",{className:"Header-Right",children:Object(f.jsx)(Ve,{searchText:s,searchInputHandler:a,tabType:n})})]})})},Me=t(29),Ye=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(b.useState)(n),s=Object(p.a)(t,2),a=s[0],c=s[1],i=function(e){if(["imageURL","profileImageURL","bannerURL"].includes(e.target.classList[2]))return e.target.files[0]?void c(Object(u.a)(Object(u.a)({},a),{},Object(Me.a)({},e.target.classList[2],e.target.files[0]))):void 0;c(Object(u.a)(Object(u.a)({},a),{},Object(Me.a)({},e.target.classList[2],e.target.value)))},r=function(e){e&&"cancel"===e.target.classList[2]?c(Object(u.a)(Object(u.a)({},a),{},{imageURL:""})):c(Object(u.a)(Object(u.a)({},a),n))},o=function(n){n.preventDefault(),e()};return{onChangeHandler:i,onSubmitHandler:o,resetValues:r,values:a}},Qe=function(e){var n=e.iconClicked,t=e.followingPosts,s=e.posts,a=e.user,c=e.isFollowingPostsEmpty,i=Ye((function(){return m()}),{body:"",imageURL:""}),r=i.onChangeHandler,o=i.onSubmitHandler,l=i.values,d=i.resetValues,j=Object(z.a)(oe,{update:function(){window.location.reload()}}),u=Object(p.a)(j,1)[0],m=function(){if(""!==l.imageURL){var e=new FormData;e.append("file",l.imageURL),e.append("upload_preset","twitter-clone-react"),e.append("cloud_name","kyle-twitter-clone"),fetch("https://api.cloudinary.com/v1_1/kyle-twitter-clone/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){return u({variables:{body:l.body,imageURL:e.url}})})).catch((function(e){return console.log(e)}))}else u({variables:{body:l.body}})};return Object(f.jsxs)("div",{className:"PostsView",children:["home"===n&&a&&Object(f.jsx)(Ae,{user:a,values:l,onSubmitHandler:o,onChangeHandler:r,resetValues:d}),(!a||"all"===n)&&s&&s.map((function(e){return Object(f.jsx)(Pe,{post:e},e.id)})),a&&"home"===n&&t&&t.map((function(e){return Object(f.jsx)(Pe,{post:e},e.id)})),a&&"home"===n&&c&&Object(f.jsx)("div",{className:"empty-posts-view",children:Object(f.jsx)("p",{children:"Follow lords to see their content!"})})]})},_e=(t(84),function(e){var n=e.users;return Object(f.jsx)("div",{className:"home-users-view",children:n&&Object(f.jsx)(Re,{type:"user-result",cards:n})})}),We=function(e){var n=e.users,t=Object(b.useContext)(x).data,s=Object(b.useState)("home"),a=Object(p.a)(s,2),c=a[0],i=a[1],r=Object(b.useState)(""),o=Object(p.a)(r,2),l=o[0],d=o[1],j=Object(Q.a)(ce),u=j.loading,m=j.data,O=(m=void 0===m?{}:m).getPosts,h=Object(Q.a)(ge),g=h.loading,v=h.data,N=(v=void 0===v?{}:v).getFollowingPosts,I="westerlings"===c&&n&&n.filter((function(e){var n,t=new RegExp(l,"i");return e.name.match(t)||(null===(n=e.houseName)||void 0===n?void 0:n.match(t))||e.username.match(t)})),k=t&&"home"===c&&N&&N.filter((function(e){var n,t=new RegExp(l,"i");return e.userInfo.name.match(t)||(null===(n=e.userInfo.houseName)||void 0===n?void 0:n.match(t))||e.userInfo.username.match(t)||e.body.match(t)})),w=t&&"all"===c||!t&&O&&O.filter((function(e){var n,t=new RegExp(l,"i");return e.userInfo.name.match(t)||(null===(n=e.userInfo.houseName)||void 0===n?void 0:n.match(t))||e.userInfo.username.match(t)||e.body.match(t)}));return Object(f.jsxs)("div",{className:"HomeBar",children:[Object(f.jsx)(Be,{iconClicked:c,iconClickHandler:function(e){var n=e.currentTarget.textContent.toLowerCase();d(""),i(n)},searchText:l,searchInputHandler:function(e){d(e.target.value)}}),"westerlings"!==c?!u&&!g&&Object(f.jsx)(Qe,{iconClicked:c,followingPosts:t?k:w,posts:w,user:t,isFollowingPostsEmpty:0===(null===N||void 0===N?void 0:N.length)}):Object(f.jsx)(_e,{users:I,searchText:l})]})},Ge=function(e,n){if(!e)return[];for(var t=[],s=e.length,a=function(){var n=Math.floor(Math.random()*s),a=e[n];t.some((function(e){return e.username===a.username}))||t.push(a)};s!==t.length&&t.length<n;)a();return t},qe=function(e){var n=e.users,t=Object(b.useContext)(x).data,s=t?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("a",{href:"/users/".concat(t.id),children:t.name}),Object(f.jsx)("img",{className:"profile-img suggestion-header",src:t.profileImageURL||Le,alt:"user-profile"})," "]}):Object(f.jsx)("a",{href:"/register",className:"suggest-header-register",children:"Register"});return Object(f.jsxs)("div",{className:"suggest-view-container",children:[Object(f.jsxs)("div",{className:"suggest-view-header",children:[" ",s," "]}),Object(f.jsxs)("div",{className:"suggestions-container",children:[Object(f.jsx)("span",{className:"suggestions-title",children:t?"Possible Allegiances":"Westerlings"}),Object(f.jsx)("div",{className:"suggestions-list",children:t?function(){if(n&&t){var e=n.filter((function(e){return!t.following.some((function(n){return n.username===e.username}))&&e.username!==t.username}));if(0===e.length)return Object(f.jsx)("div",{className:"stat-list-divider",children:"Wow! You are allies with everyone."});var s=Ge(e,7);return Object(f.jsx)(Re,{type:"suggestion",cards:s})}}():function(){if(n){var e=Ge(n,7);return Object(f.jsx)(Re,{type:"suggestion",cards:e})}}()})]})]})},Je=function(e){var n=e.user,t=Object(b.useContext)(x).logout,s=Object(j.g)(),a=Object(b.useState)(!1),c=Object(p.a)(a,2),i=c[0],r=c[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){return r(!i)},children:" \u2022\u2022\u2022 "}),Object(f.jsxs)("div",{className:"modal",style:i?{display:"block"}:{display:"none"},children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){s.push("users/".concat(n.id))},children:"View Profile"})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){t(),window.location.reload()},children:"Log Out"})})]})]})},Ke=function(e){var n=e.user,t=e.setIsSideViewPressed,s=e.isBannermenClicked,a=e.setIsBannermenClicked,c=e.followers,i=e.following,r=c&&0===c.length?Object(f.jsx)("div",{className:"stat-list-divider",children:"No bannermen."}):Object(f.jsx)(Re,{type:"side-view",cards:c}),o=i&&0===i.length?Object(f.jsx)("div",{className:"stat-list-divider",children:"No alliances."}):Object(f.jsx)(Re,{type:"side-view",cards:i});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"side-view-details",children:[" ",Object(f.jsx)(Je,{user:n})," "]}),Object(f.jsx)("button",{className:"side-view-toggle-button-left",onClick:t,children:Object(f.jsx)("i",{className:"fas fa-angle-double-left"})}),Object(f.jsxs)("div",{className:"Side-view-top",children:[Object(f.jsxs)("div",{className:"side-view-profile-details",children:[Object(f.jsx)("img",{className:"side-view-profile-img",src:n.profileImageURL||Le,alt:"side-view-profile-img"}),Object(f.jsx)("h4",{children:n.name}),Object(f.jsx)("h5",{children:"@"+n.username})]}),Object(f.jsxs)("div",{className:"side-view-profile-subtext",children:[Object(f.jsx)("i",{id:"side-view-house-icon-top",className:"fas fa-bookmark"}),Object(f.jsx)("p",{className:"house-text",children:n.houseName?"House "+n.houseName:"No House"}),Object(f.jsx)("i",{id:"pin-icon",className:"fas fa-map-pin"}),Object(f.jsx)("p",{className:"location-text",children:n.location||"None"})]}),Object(f.jsx)("div",{className:"side-view-divider"}),Object(f.jsxs)("div",{className:"side-view-profile-stats",children:[Object(f.jsxs)("div",{className:"allegiances",children:[Object(f.jsx)("h3",{children:"Allegiances"}),Object(f.jsx)("h5",{children:n.followingCount})]}),Object(f.jsxs)("div",{className:"bannermen",children:[Object(f.jsx)("h3",{children:"Bannermen"}),Object(f.jsx)("h5",{children:n.followerCount})]})]})]}),Object(f.jsx)("div",{className:"Side-view-bottom",children:Object(f.jsxs)("div",{className:"side-view-tabs",children:[Object(f.jsx)("button",{className:s?"bannermen-tab clicked":"bannermen-tab",onClick:function(){return a(!0)},children:"Bannermen"}),Object(f.jsx)("button",{className:s?"allegiances-tab":"allegiances-tab clicked",onClick:function(){return a(!1)},children:"Allegiances"}),Object(f.jsx)("div",{className:"side-view-stat-list",children:s?r:o})]})})]})},ze=function(){var e=Object(b.useState)({}),n=Object(p.a)(e,2),t=n[0],s=n[1],a=Object(b.useContext)(x).loginOrRegister,c=Ye((function(){j()}),{username:"",password:""}),i=c.onChangeHandler,r=c.onSubmitHandler,o=c.values,l=Object(z.a)(ae,{update:function(e,n){var t=n.data.login;a(t),window.location.reload()},onError:function(e){if(e.graphQLErrors[0]){var n=Object(u.a)({},e.graphQLErrors[0].extensions.exception.errors);s(Object(u.a)({},n))}},variables:o}),d=Object(p.a)(l,2),j=d[0],m=d[1].loading;return Object(f.jsxs)("div",{className:"login-side-preview-container",children:[Object(f.jsxs)("div",{className:"login-side-logo",children:[Object(f.jsx)("h1",{children:" Quillio "}),Object(f.jsx)("i",{className:"fas fa-feather-alt"})]}),Object(f.jsx)("p",{className:"login-description",children:"Log in or register and become a part of the largest online social media community of the 7 kingdoms of Westoros!"}),Object(f.jsxs)("div",{className:"login-inputs-container",children:[Object(f.jsx)(Ee,{textValue:o.username,inputHandler:i,title:"Username",type:"login-in-preview username",errors:!!t.username}),Object(f.jsx)(Ee,{textValue:o.password,inputHandler:i,title:"Password",type:"login-in-preview password",errors:!!t.password})]}),Object(f.jsx)("div",{className:"login-side-btn-container",children:Object(f.jsx)(J,{text:"Login!",type:"log-in-preview ".concat(m?"loading":""),buttonHandler:r})}),Object(f.jsx)("a",{href:"/register",children:Object(f.jsx)("p",{className:"login-signup-description",children:" Don\u2019t have an account? Sign Up! "})}),Object(f.jsx)("a",{href:"/login",children:Object(f.jsx)("p",{className:"login-signup-description small",children:" You are not logged in. Log in or sign up! "})}),Object(f.jsx)("div",{className:"login-in-preview-error-display",children:Object(f.jsx)(G,{type:"log-in-preview",errors:t})}),Object(f.jsx)("div",{className:"login-bottom-details-container",children:Object(f.jsx)(W,{type:"log-in-view"})})]})},Xe=function(e){var n=e.setIsSideViewPressed,t=e.userData,s=e.followers,a=e.following,c=Object(b.useState)(!0),i=Object(p.a)(c,2),r=i[0],o=i[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"side-view-container",children:t?Object(f.jsx)(Ke,{user:t,setIsSideViewPressed:n,isBannermenClicked:r,setIsBannermenClicked:o,followers:s,following:a}):Object(f.jsx)(ze,{})})})},Ze=function(e){var n=e.userData,t=e.followers,s=e.following,a=Object(b.useState)(!1),c=Object(p.a)(a,2),i=c[0],r=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:i?"Sidebar clicked":"Sidebar",children:Object(f.jsx)(Xe,{setIsSideViewPressed:function(){r(!i)},userData:n,followers:t,following:s})}),Object(f.jsx)("button",{onClick:function(){r(!i)},className:i?"side-view-toggle-button-right clicked":"side-view-toggle-button-right",children:Object(f.jsx)("i",{className:"fas fa-angle-double-right"})})]})},en=function(){var e=Object(Q.a)(ee).data,n=(e=void 0===e?{}:e).getUsers,t=Object(b.useContext)(x).data;return Object(f.jsxs)("div",{className:"Home-Page",children:[Object(f.jsx)(Ze,{userData:t,followers:t&&Ge(t.followers,5),following:t&&Ge(t.following,5)}),Object(f.jsxs)("div",{className:"Right",children:[Object(f.jsx)("div",{className:"Home",children:Object(f.jsx)(We,{users:n})}),Object(f.jsx)("div",{className:"SuggestBar",children:Object(f.jsx)(qe,{users:n})})]})]})},nn=(t(85),t(86),function(e){var n=e.tabClicked,t=e.user,s=e.userPosts,a=e.likedPosts;return Object(f.jsxs)("div",{className:"profile-details-list",children:[s&&"posts"===n&&s.map((function(e){return Object(f.jsx)(Pe,{post:e},e.id)})),a&&"liked posts"===n&&a.map((function(e){return Object(f.jsx)(Pe,{post:e},e.id)})),t&&"allegiances"===n&&Object(f.jsx)(Re,{type:"user-result",cards:t.following}),t&&"bannermen"===n&&Object(f.jsx)(Re,{type:"user-result",cards:t.followers})]})}),tn=function(e){var n=e.tabClicked,t=e.tabHandler;return Object(f.jsxs)("div",{className:"profile-tabs",children:[Object(f.jsx)(ke,{tabClicked:n,tabHandler:t,type:"posts"}),Object(f.jsx)(ke,{tabClicked:n,tabHandler:t,type:"liked posts"}),Object(f.jsx)(ke,{tabClicked:n,tabHandler:t,type:"allegiances"}),Object(f.jsx)(ke,{tabClicked:n,tabHandler:t,type:"bannermen"})]})},sn=(t(87),t.p+"static/media/defaultBG.8455f20b.jpg"),an=function(e){var n=e.user,t=Object(b.useContext)(x).user;return Object(f.jsxs)("div",{className:"profile-pg-top-view",children:[Object(f.jsx)("img",{className:"banner-image",src:n.bannerURL?n.bannerURL:sn,alt:"user"}),Object(f.jsxs)("div",{className:"profile-pg-top-details",children:[Object(f.jsxs)("div",{className:"top-details-top",children:[Object(f.jsx)("h2",{children:n.name}),Object(f.jsxs)("div",{className:"top-details-user-metrics",children:[Object(f.jsx)("p",{children:n.followingCount}),Object(f.jsx)("span",{id:"allegiances",children:"Allegiances"}),Object(f.jsx)("p",{children:n.followerCount}),Object(f.jsx)("span",{children:"Bannermen"})]})]}),Object(f.jsx)("span",{id:"profile-pg-username",children:"@".concat(n.username)}),Object(f.jsx)("p",{id:"profile-bio",children:n.bio?n.bio:"No bio..."}),Object(f.jsxs)("div",{className:"top-details-bottom",children:[Object(f.jsx)("i",{className:"fas fa-bookmark top-view-detail"}),Object(f.jsx)("span",{className:"top-view-detail-text",children:"".concat(n.houseName?"House "+n.houseName:"No House")}),Object(f.jsx)("i",{className:"fas fa-map-pin top-view-detail"}),Object(f.jsx)("span",{className:"top-view-detail-text",children:"".concat(n.location?n.location:"Nowhere")}),Object(f.jsx)("i",{className:"far fa-calendar-alt top-view-detail"}),Object(f.jsx)("span",{className:"top-view-detail-text",children:"Joined ".concat(Se()(n.createdAt).format("MMM YYYY"))})]})]}),Object(f.jsxs)("div",{className:"profile-pg-user-img-container",children:[Object(f.jsx)("img",{id:"profile-img",src:n.profileImageURL?n.profileImageURL:Le,alt:"banner"}),t&&t.name!==n.name&&Object(f.jsx)(ye,{user:n,type:"profile-page"})]})]})},cn=function(e){var n=e.user,t=e.userId,s=Object(b.useState)("posts"),a=Object(p.a)(s,2),c=a[0],i=a[1],r=Object(Q.a)(je,{variables:{userId:t}}).data,o=(r=void 0===r?{}:r).getUserPosts,l=Object(Q.a)(ue,{variables:{userId:t}}).data,d=(l=void 0===l?{}:l).getUserLikedPosts;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(an,{user:n}),Object(f.jsx)(tn,{tabClicked:c,tabHandler:function(e){return i(e.currentTarget.textContent.toLowerCase())}}),Object(f.jsx)(nn,{tabClicked:c,user:n,userPosts:o,likedPosts:d})]})},rn=(t(88),function(e){var n=e.user,t=void 0===n?{}:n,s=e.users,a=e.onClickEdit,c=Object(b.useContext)(x).data,i=Ge(s,6);return Object(f.jsxs)("div",{className:"profile-page-right",children:[Object(f.jsx)("div",{className:"profile-side-details",style:c&&c.username===t.username?{display:"block"}:{display:"none"},children:Object(f.jsxs)("div",{className:"profile-account-details",children:[Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h3",{children:"Account Details"}),Object(f.jsxs)("button",{onClick:a,children:[Object(f.jsx)("p",{children:"Edit Profile"}),Object(f.jsx)("i",{className:"fas fa-edit"})]})]}),Object(f.jsxs)("div",{className:"details-container",children:[Object(f.jsxs)("div",{className:"detail",children:[Object(f.jsx)("i",{className:"far fa-envelope"}),Object(f.jsxs)("div",{className:"detail-text",children:[Object(f.jsx)("p",{className:"title",children:"Email"}),Object(f.jsx)("p",{className:"subtitle",children:t.email})]})]}),Object(f.jsxs)("div",{className:"detail",children:[Object(f.jsx)("i",{className:"far fa-calendar-alt"}),Object(f.jsxs)("div",{className:"detail-text",children:[Object(f.jsx)("p",{className:"title",children:"Joined"}),Object(f.jsx)("p",{className:"subtitle",children:Se()(t.createdAt).format("MMM YYYY")})]})]})]})]})}),Object(f.jsxs)("div",{className:"suggestions-list profile",children:[Object(f.jsx)("h3",{className:"suggestions-title-profile",children:"Westerlings"}),Object(f.jsx)("div",{className:"suggestions-list",children:Object(f.jsx)(Re,{type:"suggestion",cards:i})})]})]})}),on=t(42),ln=t.n(on),dn=t(58),jn=(t(90),function(e){var n=new FormData;return n.append("file",e),n.append("upload_preset","twitter-clone-react"),n.append("cloud_name","kyle-twitter-clone"),fetch("https://api.cloudinary.com/v1_1/kyle-twitter-clone/image/upload",{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){return e.url})).catch((function(e){return console.log(e)}))}),un=function(e){var n=e.editProfile,t=e.onClickEdit,s=Object(j.g)(),a=Object(b.useState)(!1),c=Object(p.a)(a,2),i=c[0],r=c[1],o=Object(b.useContext)(x),l=o.logout,d=o.loginOrRegister,m=o.data,O=Ye((function(){!function(){y.apply(this,arguments)}()}),{houseName:"",location:"",bio:"",profileImageURL:"",bannerURL:""}),h=O.onChangeHandler,g=O.onSubmitHandler,v=O.resetValues,N=O.values,I=Object(z.a)(me,{update:function(e,n){var t=n.data.updateProfileDetails;d(Object(u.a)(Object(u.a)({},m),t)),window.location.reload()}}),k=Object(p.a)(I,1)[0],w=Object(z.a)(he,{update:function(){l(),s.push("/"),window.location.reload()}}),C=Object(p.a)(w,1)[0];function y(){return(y=Object(dn.a)(ln.a.mark((function e(){var n,t,s;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(u.a)({},N),null==N.profileImageURL||""===N.profileImageURL){e.next=6;break}return e.next=4,jn(N.profileImageURL);case 4:t=e.sent,n=Object(u.a)(Object(u.a)({},n),{},{profileImageURL:t});case 6:if(null==N.bannerURL||""===N.bannerURL){e.next=11;break}return e.next=9,jn(N.bannerURL);case 9:s=e.sent,n=Object(u.a)(Object(u.a)({},n),{},{bannerURL:s});case 11:k({variables:n});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"edit-profile-page ".concat(!n&&"off"),children:[i&&Object(f.jsx)("div",{className:"delete-user-modal",children:Object(f.jsxs)("div",{className:"delete-user-modal-box",children:[Object(f.jsx)("h4",{children:"This action is permanent. Are you sure you want to delete you account m'lord?"}),Object(f.jsxs)("div",{className:"delete-user-modal-buttons",children:[Object(f.jsx)(J,{type:"delete-modal cancel",text:"Never mind",buttonHandler:function(){return r(!1)}}),Object(f.jsx)(J,{type:"delete-modal delete-user",text:"Yes, I am sure.",buttonHandler:function(){return C()}})," d"]})]})}),Object(f.jsx)("div",{className:"edit-profile-modal",children:Object(f.jsxs)("div",{className:"modal-container",children:[Object(f.jsx)("h1",{children:"Edit Your Profile."}),Object(f.jsxs)("div",{className:"sign-in-up-inputs-two-box profile-page-edit",children:[Object(f.jsx)(Ee,{title:"House Name",type:"sign-in-up-page houseName profile",textValue:N.houseName,inputHandler:h,placeholder:"Targaryen"}),Object(f.jsx)(Ee,{title:"Location",type:"sign-in-up-page location profile",textValue:N.location,inputHandler:h,placeholder:"Kings's Landing"})]}),Object(f.jsx)(Ee,{title:"Biography",type:"sign-in-up-page bio profile",textValue:N.bio,inputHandler:h,placeholder:"When you play the game of thrones, you win or you die."}),Object(f.jsxs)("div",{className:"profile-edits-bottom",children:[Object(f.jsx)(De,{title:"Profile Image",property:"profileImageURL",onChangeHandler:h,values:N,resetValues:v}),Object(f.jsx)(De,{title:"Banner Image",property:"bannerURL",onChangeHandler:h,values:N,resetValues:v})]}),Object(f.jsx)("button",{className:"delete-user-button",onClick:function(){return r(!0)},children:"Delete your account"}),Object(f.jsxs)("div",{className:"profile-edits-buttons",children:[Object(f.jsx)(J,{type:"profile-edits cancel-changes",text:"Cancel",buttonHandler:function(){t(),v()}}),Object(f.jsx)(J,{type:"profile-edits save-changes",text:"Save",buttonHandler:function(e){g(e),t(),v()}})]})]})})]})},mn=function(e){var n=e.match.params.userId,t=Object(b.useContext)(x).data,s=Object(b.useState)(!1),a=Object(p.a)(s,2),c=a[0],i=a[1];Object(b.useEffect)((function(){l({variables:{userId:n}})}));var r=Object(z.a)(de),o=Object(p.a)(r,2),l=o[0],d=o[1].data,j=(d=void 0===d?{}:d).getUser,u=Object(Q.a)(ee).data,m=(u=void 0===u?{}:u).getUsers;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"profile-page",children:[Object(f.jsxs)("div",{className:"profile-page-header",children:[Object(f.jsxs)("div",{className:"login-side-logo profile",children:[Object(f.jsx)("a",{href:"/",children:" Quillio "}),Object(f.jsx)("i",{id:"profile-logo",className:"fas fa-feather-alt profile"})]}),Object(f.jsxs)("div",{className:"profile-header-info",children:[" ",t?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("a",{href:"/users/".concat(n),children:t&&t.name}),Object(f.jsx)("img",{src:(null===t||void 0===t?void 0:t.profileImageURL)||Le,alt:"user-profile"})," "]}):Object(f.jsx)("a",{href:"/login",children:"Login"})," "]})]}),Object(f.jsxs)("div",{className:"profile-page-container",children:[Object(f.jsx)("div",{className:"profile-page-left",children:j&&Object(f.jsx)(cn,{user:j,userId:n})}),j&&Object(f.jsx)(rn,{user:j,users:m,onClickEdit:function(){return i(!c)}})]})]}),Object(f.jsx)(un,{editProfile:c,onClickEdit:function(){return i(!c)}})]})},bn=(t(51),function(e){var n=e.type,t=Object(j.g)(),s=Object(b.useState)({}),a=Object(p.a)(s,2),c=a[0],i=a[1],r=Object(b.useContext)(x).loginOrRegister,o=Ye((function(){g({variables:m})}),{name:"",username:"",email:"",password:"",confirmPassword:""}),l=o.onChangeHandler,d=o.onSubmitHandler,m=o.values,O=Object(z.a)("login"===n?ae:re,{update:function(e,s){var a=s.data;if(r(a[n]),"login"===n)return t.push("/"),void window.location.reload();t.push("/users/".concat(a.register.id)),window.location.reload()},onError:function(e){var n,t=Object(u.a)({},null===(n=e.graphQLErrors[0])||void 0===n?void 0:n.extensions.exception.errors);i(Object(u.a)({},t))}}),h=Object(p.a)(O,2),g=h[0],v=h[1].loading;var N=Object(f.jsx)("div",{className:"sign-in-up-errors",children:Object(f.jsx)(G,{type:"log-in-view",errors:c})}),I=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"sign-in-up-inputs-container",children:[Object(f.jsxs)("div",{className:"sign-in-up-inputs-one-box",children:[Object(f.jsx)(Ee,{title:"Username",type:"sign-in-up-page username",errors:!!c.username,textValue:m.username,inputHandler:l}),Object(f.jsx)(Ee,{title:"Password",type:"sign-in-up-page password",errors:!!c.password,textValue:m.password,inputHandler:l})]}),Object(f.jsx)("div",{className:"sign-in-un-button-container",children:Object(f.jsx)(J,{text:"Login!",type:"sign-in-up-page ".concat(v?"loading":""),buttonHandler:d})})]}),Object(f.jsx)("div",{className:"sign-in-up-bottom-info",children:Object(f.jsx)("a",{href:"/register",className:"sign-in-up-link",children:" Don't have anccount yet? Sign up! "})}),N]}),k=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"sign-in-up-inputs-container",children:[Object(f.jsxs)("div",{className:"sign-in-up-inputs-two-box",children:[Object(f.jsx)(Ee,{title:"Name",type:"sign-in-up-page name",errors:!!c.inputname,textValue:m.name,inputHandler:l}),Object(f.jsx)(Ee,{title:"Username",type:"sign-in-up-page username",errors:!!c.username,textValue:m.username,inputHandler:l})]}),Object(f.jsx)("div",{className:"sign-in-up-inputs-one-box",children:Object(f.jsx)(Ee,{title:"Email",type:"sign-in-up-page email",errors:!!c.email,textValue:m.email,inputHandler:l})}),Object(f.jsxs)("div",{className:"sign-in-up-inputs-two-box",children:[Object(f.jsx)(Ee,{title:"Password",type:"sign-in-up-page password",errors:!!c.password,textValue:m.password,inputHandler:l}),Object(f.jsx)(Ee,{title:"Confirm Password",type:"sign-in-up-page confirmPassword",errors:!!c.confirmPassword,textValue:m.confirmPassword,inputHandler:l})]}),Object(f.jsx)("div",{className:"sign-in-un-button-container",children:Object(f.jsx)(J,{text:"Register!",type:"sign-in-up-page ".concat(v?"loading":""),buttonHandler:d})})]}),Object(f.jsx)("div",{className:"sign-in-up-bottom-info",children:Object(f.jsx)("a",{href:"/login",className:"sign-in-up-link",children:" Already have an account? Sign in! "})}),N]});return Object(f.jsxs)("div",{children:[" ","login"===n?I:k," "]})}),pn=function(){return Object(f.jsxs)("div",{className:"Sign-In-Up-Page",children:[Object(f.jsxs)("div",{className:"sign-in-up-page-left",children:[Object(f.jsxs)("div",{className:"sign-in-up-page-title",children:[Object(f.jsx)("h1",{children:" Quillio "})," ",Object(f.jsx)("i",{className:"fas fa-feather-alt"})]}),Object(f.jsx)("div",{className:"sign-in-up-inputs-outer-container",children:Object(f.jsx)(bn,{type:"register"})}),Object(f.jsx)(W,{type:"sign-in-up"})]}),Object(f.jsx)("div",{className:"sign-in-up-page-right",children:Object(f.jsx)(q,{})})]})},On=function(){return Object(f.jsxs)("div",{className:"Sign-In-Up-Page",children:[Object(f.jsxs)("div",{className:"sign-in-up-page-left",children:[Object(f.jsxs)("div",{className:"sign-in-up-page-title",children:[Object(f.jsx)("h1",{children:" Quillio "})," ",Object(f.jsx)("i",{className:"fas fa-feather-alt"})]}),Object(f.jsx)("div",{className:"sign-in-up-inputs-outer-container",children:Object(f.jsx)(bn,{type:"login"})}),Object(f.jsx)(W,{type:"sign-in-up"})]}),Object(f.jsx)("div",{className:"sign-in-up-page-right",children:Object(f.jsx)(q,{})})]})},fn=(t(91),t(92),function(e){var n=e.postId,t=Object(b.useContext)(x).data,s=Ye((function(){d({variables:{postId:o.id,body:a.body}})}),{body:""}),a=s.values,c=s.onSubmitHandler,i=s.onChangeHandler;var r=Object(Q.a)(ie,{variables:{postId:n}}).data,o=(r=void 0===r?{}:r).getPost,l=Object(z.a)(be,{update:function(){a.body=""}}),d=Object(p.a)(l,1)[0];return Object(f.jsxs)(f.Fragment,{children:[o&&Object(f.jsx)(Pe,{post:o,type:"post-page-card"}),t&&Object(f.jsx)(Te,{user:t,values:a,onSubmitHandler:c,onChangeHandler:i}),o&&Object(f.jsx)("div",{className:"comment-count",children:"".concat(o.commentCount," Comments")}),o&&Object(f.jsx)(Fe,{comments:o.comments,post:o})]})}),hn=function(e){var n=e.match,t=Object(b.useContext)(x).data,s=n.params.postId,a=Object(Q.a)(ee).data,c=(a=void 0===a?{}:a).getUsers;return Object(f.jsxs)("div",{className:"profile-page post-page",children:[Object(f.jsxs)("div",{className:"profile-page-header",children:[Object(f.jsxs)("div",{className:"login-side-logo profile",children:[Object(f.jsx)("a",{href:"/",children:" Quillio "}),Object(f.jsx)("i",{id:"profile-logo",className:"fas fa-feather-alt profile"})]}),Object(f.jsxs)("div",{className:"profile-header-info",children:[" ",t?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("a",{href:"/users/".concat(t.id),children:t&&t.name}),Object(f.jsx)("img",{src:(null===t||void 0===t?void 0:t.profileImageURL)||Le,alt:"user-profile"})," "]}):Object(f.jsx)("a",{href:"/login",children:"Login"})," "]})]}),Object(f.jsxs)("div",{className:"profile-page-container",children:[Object(f.jsx)("div",{className:"profile-page-left post-page",children:Object(f.jsx)(fn,{postId:s})}),Object(f.jsx)("div",{className:"profile-page-right post-page",children:Object(f.jsxs)("div",{className:"suggestions-list profile",children:[Object(f.jsx)("h3",{className:"suggestions-title-profile",children:"Westerlings"}),Object(f.jsx)("div",{className:"suggestions-list",children:Object(f.jsx)(Re,{type:"suggestion",cards:c&&Ge(c,6)})})]})})]})]})};var gn=function(){return Object(f.jsx)(N,{children:Object(f.jsx)(d.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",component:en}),Object(f.jsx)(j.b,{exact:!0,path:"/users/:userId",component:mn}),Object(f.jsx)(j.b,{exact:!0,path:"/posts/:postId",component:hn}),Object(f.jsx)(Y,{exact:!0,path:"/login",component:On}),Object(f.jsx)(Y,{exact:!0,path:"/register",component:pn})]})})})})},xn=Object(c.a)({uri:"http://localhost:5000"}),vn=Object(l.a)((function(){var e=localStorage.getItem("jwtToken");return{headers:{Authorization:e?"Bearer ".concat(e):""}}})),Nn=new i.a({link:vn.concat(xn),cache:new r.a}),In=Object(f.jsx)(o.a,{client:Nn,children:Object(f.jsx)(gn,{})});a.a.render(In,document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.69364b34.chunk.js.map